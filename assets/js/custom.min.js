"use strict";var bezpekaModule,bezpekaValidation;!function(i){i(window).scroll(function(){69<i(this).scrollTop()?(i("#scroller").addClass("show"),i("#widjet-phone").addClass("show")):(i("#scroller").removeClass("show"),i("#widjet-phone").removeClass("show"))}),i("#scroller").click(function(){return i("body,html").animate({scrollTop:0},1e3),!1}),bezpekaModule=function(){i(".type__container").on("click",function(){i(".hint").fadeIn(),i(".calc").addClass("overlay")}),i(".hint__close").on("click",function(){i(".hint").fadeOut(),i(".calc").removeClass("overlay"),a.$calc_slider.slick("slickNext")}),i(document).mouseup(function(t){0===i(".hint").has(t.target).length&&(i(".hint").fadeOut(),i(".calc").removeClass("overlay"))});var a={$calc_section:i("section.calc"),$calc_slider:i(".slider"),$taryf_slider:i(".taryf"),$progress_bar:i(".calc__progress"),$progress_bar_label:i(".calc__progress-text span"),$next_btn:i(".bc-slide").find(".bc-btn--next"),$prev_btn:i(".bc-slide").find(".bc-btn--prev"),$logo_slider:i(".bc-logos__slider")},e={$rooms:i(".rooms__container"),$version:i(".version__container"),$type:i(".type__item--step"),$taryf:i(".taryf__item"),$city:i(".city__container"),$option:i(".option__item"),$prize:i(".prize__item")};function o(t){0<t.length&&i("html, body").animate({scrollTop:t.offset().top-200},500,"swing")}return{init:function(){this.choiceNext(),this.quizHandler(),this.sliderCity(),this.validationInput(),this.modalStart(),this.ajaxHandler(),this.logosSlider(),this.swipeDown(),this.scrollHandler()},swipeDown:function(){i("a[data-scroll]").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=i(this.hash);if((t=t.length?t:i("[name="+this.hash.slice(1)+"]")).length)return i("html, body").animate({scrollTop:t.offset().top+0},1e3,"swing"),!1}})},sliderCity:function(){a.$next_btn.attr("disabled",!0),a.$prev_btn.on("click",function(){i(this).parent().siblings(".i").find("input[type='radio']").attr("checked",!1),a.$next_btn.attr("disabled",!1)})},choiceNext:function(){function t(){setTimeout(function(){a.$calc_slider.slick("slickNext")},300)}e.$rooms.on("click",t),e.$version.on("click",t),e.$type.on("click",t),e.$taryf.on("click",t),e.$city.on("click",t),e.$option.on("click",t),e.$prize.on("click",t)},modalStart:function(){i(".bc-btn--border").on("click",function(t){t.preventDefault(),t.stopPropagation(),i("#social__modal__container").toggleClass("hide-modal-recall")}),i("#widjet-phone").on("click",function(t){t.preventDefault(),i("#social__modal__container").removeClass("hide-modal-recall")}),i(".bc-btn--taryf").on("click",function(t){t.preventDefault(),t.stopPropagation(),i("#social__modal__container").toggleClass("hide-modal-recall")}),i("#social__modal__container").on("click",function(t){t.stopPropagation(),i("#social__modal__container").addClass("hide-modal-recall"),i("#thanks__modal__container").addClass("hide-modal-recall")}),i("#close__social__modal__container").on("click",function(t){t.preventDefault(),i("#social__modal__container").addClass("hide-modal-recall")}),i(".social__modal__wrap").on("click",function(t){t.stopPropagation()})},scrollHandler:function(){},validationInput:function(){i('input[name="phone"]').inputmask({mask:"(099) 999-99-99"}),i('input[name="phone"]').on("change keyup keydown",function(){var t=i(this).val();"0"==(""+t)[2]&&(i(this).val(" "),i(this).blur().focus()),i('input[type="submit"]').attr("disabled","disabled"),new RegExp("_$").test(t)?i(this).addClass("error-phone"):(i(this).removeClass("error-phone"),i('input[type="submit"]').removeAttr("disabled"),i('button[type="submit"]').removeAttr("disabled").find(".shine-button__el").addClass("animate"))})},ajaxHandler:function(){i("#social__modal__container, .calc").on("submit","form",function(t){t.preventDefault();var e=i(this).serializeArray();return i.ajax({type:"POST",url:"/wp-admin/admin-ajax.php",data:e,beforeSend:function(){i('button[type="submit"]').attr("disabled",!0),setTimeout(function(){i('button[type="submit"]').attr("disabled",!1)},1750)},success:function(t){i("#social__modal__container").addClass("hide-modal-recall"),i("#thanks__modal__container").removeClass("hide-modal-recall"),setTimeout(function(){i("#thanks__modal__container").addClass("hide-modal-recall")},2100),setTimeout(function(){"rooms-one"==e[1].name&&(location.href="https://bezpeka.club/")},2200)},error:function(t){console.log("error: "+e)}}),!1})},logosSlider:function(){if(0<a.$logo_slider.length)a.$logo_slider.slick({dots:!0,prevArrow:!1,nextArrow:!1,loop:!0,speed:500,cssEase:"ease-in-out",slidesToShow:7,autoplay:!0,slidesToScroll:1,responsive:[{breakpoint:992,settings:{slidesToShow:5,dots:!1}},{breakpoint:768,settings:{slidesToShow:3,dots:!1}},{breakpoint:568,settings:{slidesToShow:1,dots:!1}}]})},quizHandler:function(){a.$calc_section.length<0||(a.$calc_slider.on("init",function(){a.$next_btn.attr("disabled",!0)}),a.$calc_slider.slick({prevArrow:!1,nextArrow:!1,infinite:!1,loop:!1,adaptiveHeight:!0,swipe:!1,fade:!0,touchMove:!1,draggable:!1}),a.$calc_slider.on("beforeChange",function(){a.$next_btn.attr("disabled",!0)}),this.progressHandler(a.$calc_slider),a.$next_btn.on("click",function(t){bezpekaModule.prevNextHandler(a.$calc_slider,"next",t),o(i("#b_step_slider"))}),a.$prev_btn.on("click",function(t){bezpekaModule.prevNextHandler(a.$calc_slider,"prev",t),o(i("#b_step_slider"))}),a.$taryf_slider.slick({slidesToShow:4,slidesToScroll:1,loop:!1,infinite:!1,nextArrow:'<button type="button" class="btn taryf__arrow-right"></button>',prevArrow:'<button type="button" class="btn taryf__arrow-left"></button>',responsive:[{breakpoint:1200,settings:{slidesToShow:3}},{breakpoint:991,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:1}}]}),i(".f-radio-taryf").on("change",function(){var t=i(".bc-slide").map(function(){return i(this).find(".f-radio-taryf:checked").map(function(){return i(this).data("class")}).get().join("")}).get().filter(function(t){return""!==t}).join("");a.$taryf_slider.slick("slickUnfilter"),a.$taryf_slider.slick("slickFilter",t),i("#city-15").is(":checked")?(i("#city-input-text").trigger("focus"),i("#city-input-text").attr("disabled",!1)):i("#city-input-text").attr("disabled",!0),i(this).closest(".slider").find(".bc-btn--next").attr("disabled",!1)}))},progressHandler:function(t){t.on("beforeChange",function(t,e,o,i){var n=i/(e.slideCount-1)*100;a.$progress_bar_label.text(Math.floor(n)+"%"),a.$progress_bar.css({"background-size":n+"% 100%"}).attr("aria-valuenow",n)})},prevNextHandler:function(t,e,o){o.preventDefault(),"next"===e?t.slick("slickNext"):"prev"===e&&(t.slick("slickPrev"),i(this).siblings("button[type='button']").attr("disabled",!1))}}}()}(jQuery),jQuery(document).ready(function(){bezpekaModule.init()});